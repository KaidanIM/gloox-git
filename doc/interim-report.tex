\documentclass[english,a4paper,12pt]{article}
\usepackage[latin1]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[english]{babel}
\usepackage[lsbu]{harvard}
\usepackage{graphicx}
\usepackage{fancyhdr}
%\usepackage{tocloft}
\usepackage{helvet}
\usepackage{float}
\usepackage{lastpage}
\usepackage{ltablex}
\usepackage{booktabs}
\usepackage{appendix}

% redefine from "URL:"
\def\harvardurl{[Online] Availabe at }
\def\harvardaccessed{accessed }
% remove leading "References" from the bibliography
\makeatletter
  \def\thebibliography#1{\list
      {[\arabic{enumi}]}{\settowidth\labelwidth{[#1]}\leftmargin\labelwidth
        \advance\leftmargin\labelsep
        \usecounter{enumi}}
        \def\newblock{\hskip .11em plus .33em minus .07em}
        \sloppy\clubpenalty4000\widowpenalty4000
        \sfcode`\.=1000\relax}
\makeatother

% sans-serife for the whole document
\renewcommand*{\familydefault}{\sfdefault}

% set up header and footer
%\pagestyle{fancy}
\fancyhead{}
%\fancyhead[RE]{Framework for Distributing Data using XMPP}
%\fancyhead[LE]{Final Year Project}
%\fancyhead[RO]{Interim Report}
\lhead{Jakob Schröter\\
       Framework for Distributing Data using XMPP}
\rhead{Final Year Project\\
       Interim Report}
\fancyfoot{}
%\fancyfoot[CO,CE]{\thepage{} of \pageref{LastPage}}
\cfoot{\thepage{} of \pageref{LastPage}}
\setlength{\headheight}{28pt}
%\fancyheadoffset[LE,RO]{\marginparsep+\marginparwidth}

\title{Final Year Project\\
       Framework for Distributing and Processing Scientifical Data using XMPP \\
       Interim Report}
\author{Jakob Schröter\\
        \texttt{js@camaya.net}\\
        Computer Systems and Networks}


\begin{document}
\maketitle
\thispagestyle{empty}

\clearpage
\begin{abstract}
Clusters provide a means for solving computation intensive tasks. Be it searching for extraterrestrial intelligence by filtering background noise captured from space, or prime factorization. To make use of a number of computers for parallel computational tasks some kind of software is necessary to coordinate their effort.\newline
The Extensible Message and Presence Protocol is currently mostly used in the instant messaging domain. But its possible field of operation is much wider. Its extensibility allows for customisation to a great extent.\newline
This project researches the usability of XMPP in a cluster-like environment to distribute scientifical data to a clusters nodes. These nodes carry out the actual processing and return the result. \newline
During the life-span of this project jointly acting software components will be described and created to make arbitrary numbers of computers accessible and act cluster-like.
\end{abstract}
\thispagestyle{empty}

\clearpage
\tableofcontents
\thispagestyle{empty}

\clearpage
\pagestyle{fancy}
\section{Introduction}
\paragraph{} Almost every branch of science either collects or creates data that has to be processed in some way. Sometimes a single machine is unable to keep up with the sheer amount of data and/or the demand for computing power to handle this data in a timely manner. A possible solution to this problem is, of course, to invest in faster hardware. This is a somewhat limited approach. At some point it is simply no longer possible to buy a faster (single-CPU) computer or, more likely for the average company, the costs for acquirement, installation and maintenance are much too high and outweigh the benefits. A cheaper solution would be to set up a cluster.
\newline
A cluster, as \citeasnoun*{wikipedia001} explains, is an arbitrary number of conventional computers, connected over a network and possibly running special software. To the user a cluster can either look like a single computer by simulating a multi-processor machine or offer parallelisation for special demands such as compiling software or hosting network services. Actually, according to \citeasnoun*{wikipedia002} and \citeasnoun*{top500}, even today's supercomputers are clusters. Allowedly with litteraly thousands of CPUs and specially crafted interconnects to make fast communtication between CPUs and memory possible.
%\paragraph{}
%Problems that arise when running a cluster include the power consumption (and therefore heat production) and the space needed to host it. The solutions to both problems are a bit contradictive since minimising required space means more powerful cooling is necessary. Additionaly, to gain maximum performance, signal paths must be kept as short as possible to keep latency down. To circumvent the former two probblems, by increasing the latter, though, a decentralized structure must be used. Several possibilities exist, one being to find volunteers who spend some of the processing power of their home machines to help solve, for example, a mathematical problem. Also, this seems like the cheapest way to operate a cluster. A popular example for this approach is \citename*{seti}.
\newline
To make use of a cluster, a particular software is needed to distribute fractions of data to the nodes and to manage the results returned. Such software is responsible for supplying clients with new data to process once a result is delivered back to the originating machine.
\paragraph{} The Extensible Messaging and Presence Protocol (XMPP) defines a means for interprocess communication based on the Extensible Markup Language (XML). It evolved from the Jabber protocol developed in an internet community since 1998. In May 2004 Internet Engineering Steering Group (IESG) approved the core parts of XMPP \cite{xmpp-core,xmpp-im} as Proposed Standards and in October 2004 the protocols were published as Request for Comments (RFC)\footnote{RFC 3920 and RFC 3921}. Several\footnote{A list of current JEPs can be found at http://www.jabber.org/jeps/jeplist.php} Jabber Enhancement Proposals (JEP) to these underlying protocol parts are developed and published in the community. The first application for XMPP was instant messaging. But it is by nature open for extension.
\paragraph{} The intention of this project is to utilise XMPP to combine the computing power of a number of networked machines to solve a specific problem. XMPP will be used to control data flow from and to the nodes.

\section{Aim}
\paragraph{} The aim of this project is to research and deploy the possibilities of using XMPP for interprocess communication in a cluster-like environment. The aspired scenario consists of a central XMPP-compliant server, a feeder, clients, a database and a web-based interface to view processing statistics from the database.


\section{Objectives}
\paragraph{}
The following subsidiary objectives are considered part of the project aim. 
\begin{enumerate}
\item Requirements Specification for the project as a whole
\item Design of the individual parts of the project (client, feeder, sample implementations, statistics viewer, feeder frontend)
\item defining the database structure
\item writing the Worker Library
\item writing the Feeder Library
\item writing a sample client implementation
\item writing a sample feeder implementation
\item writing the feeder frontend
\item writing the statistics viewer
\item writing User Manuals and generating API documentation
\end{enumerate}
Items 1 through 5 are considered core parts of the project. Therefore, most attention will be paid to these tasks.


\section{Deliverables}
\paragraph{}
The following deliverables result from the afore mentioned aims and objectives.

\paragraph{Interim Report} The Interim Report gives an overview of the project topic, its current status and the further time frame.
\paragraph{Worker Library} The Worker Library implements the necessary functions for clients to receive data packets and send back results.
\paragraph{Feeder Library} The Feeder Library implements the necessary functions to send data packets to clients and receive results.
\paragraph{Feeder Frontend} The Feeder Frontend enables the operator to view real-time statistics of the cluster operation.
\paragraph{Worker Sample Implementation} This is a program implementing an algorithm for prime factorization utilising the Worker Library for requesting working data.
\paragraph{Feeder Sample Implementation} This program serves the Sample Worker with data to work on.
\paragraph{API Documentation of the Worker Library} The Documentation for $3^{rd}$-party programmers to use the Worker Library.
\paragraph{API Documentation of the Feeder Library} The Documentation to implement a feeder using the Feeder Library.
\paragraph{Web-based Statistics Analysis Tool} This is a web-based tool to view client and feeder statistics such as processed data packets.
\paragraph{User Manual for the Statistics Analysis Tool} The manual for the Statistics Analysis Tool.
\paragraph{Final Report} The Final Report reports on the final status of the project.


\section{Requirements to Meet Project Aim/Objectives}
\paragraph{}
To meet the project aim/objctives no access to a laboratory is necessary. All software parts needed to set up a development environment for this project can easily be hosted on a single machine. These include:
\begin{itemize}
\item Database
\item XMPP server
\item HTTP server with PHP support
\item C(++) compiler and tool chain
\end{itemize}


\section{Proposed Technical Approach}

\subsection{Architecture}
\paragraph{}
Figure \ref{fig:architecture} illustrates the aspired architecture. Except for the database and XMPP server, all the components in the figure are objectives of this project.
\begin{figure}[H]
\begin{center}
\includegraphics{fyp.0}
\end{center}
\caption{Architecture}
\label{fig:architecture}
\end{figure}

\subsection{Platform}
\paragraph{}
Linux has been chosen as development and primary run-time environment. It is likely that the Worker and Feeder Libraries will be compilable on various Unix derivates, but portability will not be emphasised on within the scope of this project. \newline
The Statistics Viewer will be platform-independent, as long as PHP is available.

\subsection{Programming Language}
\paragraph{}
The programming language for the Worker and Feeder Libraries has been chosen to be C++. The Statistics Viewer will be written in PHP.

\subsection{Additional Software and Library Requirements}
\paragraph{}
The following software will be used for development and deployment. Except for the Compiler, this software is also required at run-time.
\begin{table}[H]
\begin{tabularx}{\linewidth}{lX}
\toprule
\textbf{Usage} & \textbf{Software} \\
\midrule
\endhead
XML Parser     & Iksemel + Iksemelmm               \\
XMPP Server    & Jabberd 2                         \\
HTTP Server    & Apache 2 + PHP 4                  \\
Database       & MySQL 4                           \\
Compiler       & GNU Compiler Collection (GCC) 3.2 \\
\bottomrule
\end{tabularx}
\caption{Required additional software}
\label{tab:softreq}
\end{table}

\subsection{Proposed Implementation}
\paragraph{}
Worker and Feeder functionality will be implemented as shared libraries. Programs that wish to use the provided functions can then link to these libraries. They take care of all the communication to the XMPP server and their respective counter-part, using the Iksemel library. The communication between Worker and Feeder is made transparent by these libraries. An interface will be provided to allow for configuration, receiving/sending actual payload and gathering statistics.
\paragraph{Description of an Example Session}
Feeder and Workers connect to the XMPP server. No particular order is required. They register themselves with the server and announce their availability. After successfully starting up and recognizing connected Workers, the Feeder configures these Workers by sending configuration data. This might include definitions for the data format, if further research ascertains that this can easily be done at run-time. A configured Worker can request data packets containing the actual computational data. The Feeder requests this data from the feeder's host application, which is responsible for providing it. This data is then sent to the Worker, where the client's host application starts the actual computation. When this is finished, a specific result is passed back to the Feeder, which hands it over to the host application. Additionally, the Feeder stores statistics of the associated specific computation in a database for later analysis.


\section{Technical Progress to Date}
\paragraph{}
Work done so far is mostly of theoretic nature. No programming has been done yet. The underlying philosophy is as follows. The actual programming will be delayed as much as possible in favour of extensive designing and testing with pen and paper. Only when all the classes, modules and components defined in the early design stage work together flawlessly in theory, implementation will be commenced. Exceptions would be test programs to check for feasibility of specific ideas and problems, respectively. Overall, this approach allows for straight-forward programming without having to think about design issues during the implementation. Therefore it is possible to start writing the User Manuals (where appropriate) while still designing.
\paragraph{}
It has been analysed whether such a system would be feasible with currently available software systems and the XMP-protocol. In an earlier stage of the project, it was taken into consideration to use the protocol enhancements defined in JEP-0060 \cite{jep0060}, a mechanism called Publish-Subscribe, as a basis for the server-to-client data propagation. Since this is a one-way only path, the default approach, based on messages defined in the core protocol, would have to be implemented nonetheless for the client-to-server communication. Therefore, the idea of using JEP-0060 has been abandoned for now.
\paragraph{}
To simplify the development process the Iksemel library has been chosen as an XML parser library from several C and C++ based libraries. Iksemel provides basic functionality to interact with XMPP servers. It is mostly self-contained and the core functionality does not depend on any other packages. It offers the possibility to encrypt communication channels using the GNU Transport Layer Security Library (GNUTLS). GNUTLS will not be required by this project but be used automatically when available at compile time. A wrapper library called Iksemelmm will be used to access Iksemel from within C++.
\paragraph{}
The design process has been started by getting an overview of the whole system and its necessary functionality. The latter has been divided into two parts, shareable (e.g. networking interface) and non-shareable (e.g. interface to host application). Shareable means that the respective source code can be used by both Worker and Feeder Library. Therefore this functionality will probably be put into a common sub-set of classes.

\section{Conclusions}
\paragraph{}
\begin{itemize}
\item Programming language and development environtment have been chosen (C++ under Linux).
\item The necessary infrastructure (XMPP, MySQL, HTTP servers) has been set up.
\item A repository\footnote{accessible at http://svn.camaya.net/uni/fyp-lsbu} in a revision control system (Subversion) has been created.
\item At the moment it is not clear whether it makes sense and is feasible to allow for configuration of the data format exchanged between Feeder and Worker at run-time. This seems necessary to avoid recompilation of the libraries for different data formats. Further research is necessary.
\item Work has begun on splitting Feeder and Worker into smaller modules and components (first stage of system design).
\end{itemize}


\appendix
\appendixpage
\addappheadtotoc

\section{Project Planning}
\paragraph{}

\include{interim-planning}

\section{Bibliography}
%\appendix
%\addcontentsline{toc}{section}{Bibliography}
\bibliography{interim-report}

% \clearpage
% \listoffigures
% \listoftables

\end{document}
